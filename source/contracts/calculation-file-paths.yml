# Contract for file paths shared between .NET and Databricks
#
# The contract uses regular expressions to specify path and filename patterns.
# Due to the distributed nature of Spark the file names cannot be determined precisely.

result_file:
    # Example: calculation-output/batch_id=0b15a420-9fc8-409a-a169-fbd49479d718/result/grid_area=806/gln=grid_area/time_series_type=production/
    directory_expression: calculation-output/batch_id=\w{8}-\w{4}-\w{4}-\w{4}-\w{12}/result/grid_area=\d{3}/gln=.*/time_series_type=.*/
    extension: .json

actors_file:
    # Example: calculation-output/batch_id=0b15a420-9fc8-409a-a169-fbd49479d718/actors/grid_area=806/time_series_type=non_profiled_consumption/
    directory_expression: calculation-output/batch_id=\w{8}-\w{4}-\w{4}-\w{4}-\w{12}/actors/grid_area=\d{3}/time_series_type=.*/
    extension: .json

time_series_hour_basis_data_file:
    # Example: calculation-output/batch_id=0b15a420-9fc8-409a-a169-fbd49479d718/basis_data/time-series-hour/grid_area=806/gln=grid_area/
    directory_expression: calculation-output/batch_id=\w{8}-\w{4}-\w{4}-\w{4}-\w{12}/basis_data/time_series_hour/grid_area=\d{3}/gln=.*/
    extension: .csv

time_series_quarter_basis_data_file:
    # Example: calculation-output/batch_id=0b15a420-9fc8-409a-a169-fbd49479d718/basis_data/time-series-quarter/grid_area=806/gln=grid_area/
    directory_expression: calculation-output/batch_id=\w{8}-\w{4}-\w{4}-\w{4}-\w{12}/basis_data/time_series_quarter/grid_area=\d{3}/gln=.*/
    extension: .csv

master_basis_data_file:
    # Example: calculation-output/batch_id=0b15a420-9fc8-409a-a169-fbd49479d718/basis_data/master_basis_data/grid_area=806/gln=grid_area/
    directory_expression: calculation-output/batch_id=\w{8}-\w{4}-\w{4}-\w{4}-\w{12}/basis_data/master_basis_data/grid_area=\d{3}/gln=.*/
    extension: .csv
